<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Settings</title>
    <link rel="stylesheet" href="/static/css/settings.css">
</head>
<body>
    <button class="go-back-btn" onclick="window.location.href='/dashboard'">‚Üê Dashboard</button>

    <div class="main-content">
        <h1>Settings</h1>

        <div class="settings-card">
            <h2>Profile</h2>

            <div class="form-group">
                <label>Email</label>
                <input type="email" id="email" class="readonly-field" readonly>
            </div>

            <div class="form-group">
                <label>Display Name</label>
                <input type="text" id="display-name" placeholder="Your name">
            </div>

            <button id="profile-save-btn" class="btn-save" onclick="updateProfile()">Save Changes</button>
            <div id="profile-notification" class="notification"></div>
        </div>

        <div class="settings-card">
            <h2>Account</h2>
            <div class="setting-row">
                <div class="setting-text">
                    <h3>Enable web context</h3>
                    <p>Use your allowed sources while generating answers.</p>
                </div>
                <input id="web-search-enabled" class="toggle" type="checkbox">
            </div>

            <div class="setting-row">
                <div class="setting-text">
                    <h3>Save chat history</h3>
                    <p>Keep chats across sessions in your account.</p>
                </div>
                <input id="save-chat-history" class="toggle" type="checkbox">
            </div>

            <div class="setting-row">
                <div class="setting-text">
                    <h3>Study reminders</h3>
                    <p>Opt in to upcoming reminder features.</p>
                </div>
                <input id="study-reminders-enabled" class="toggle" type="checkbox">
            </div>

            <div class="form-group grade-group">
                <label>Grade</label>
                <input id="grade-level" type="text" placeholder="e.g., 10, 11, 12, AP, IB DP 1">
            </div>

            <div class="form-group">
                <label>Board</label>
                <input id="education-board" type="text" placeholder="e.g., CBSE, ICSE, IGCSE, AP, IB">
            </div>

            <button id="account-settings-save-btn" class="btn-save" onclick="updateAccountSettings()">Save Account Settings</button>
            <div id="account-settings-notification" class="notification"></div>

            <div class="divider"></div>

            <h2>Password</h2>
            <div class="form-group">
                <label>New Password</label>
                <input id="new-password" type="password" placeholder="At least 8 characters">
            </div>
            <div class="form-group">
                <label>Confirm New Password</label>
                <input id="confirm-password" type="password" placeholder="Re-enter password">
            </div>
            <button id="password-save-btn" class="btn-save" onclick="updatePassword()">Update Password</button>
            <div id="password-notification" class="notification"></div>

            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
    </div>

<script src="/static/script.js?v=20260216-1"></script>
<script>
    // Load settings when page loads
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof loadSettings === 'function') {
            loadSettings();
        } else {
            console.error('loadSettings function not found');
        }
    });
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/static/css/dashboard.css">
</head>

<body>

    <div class="sidebar" id="sidebar">
        <h2>Dashboard</h2>
        <button onclick="location.href='/upload'">Upload Document</button>
        <button onclick="location.href='/chat'">New Chat</button>
        <button onclick="location.href='/sources'">Add Source</button>
        <button onclick="location.href='/topics'">My Topics</button>
        <button onclick="location.href='/settings'">Settings</button>
        <button class="collapse-btn" onclick="toggleSidebar()">☰</button>
    </div>

    <div class="main-content">
        <button class="logout-btn" onclick="logout()">Logout</button>

        <h1 id="welcome-text">Welcome</h1>

        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-label">Documents</div>
                <div class="stat-number" id="doc-count">—</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Topics</div>
                <div class="stat-number" id="topic-count">—</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Chats</div>
                <div class="stat-number" id="chat-count">—</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Messages This Week</div>
                <div class="stat-number" id="week-count">—</div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="card">
                <h3>Upload Document</h3>
                <p>Upload PDFs, text, or notes and start learning from fundamentals.</p>
                <button class="card-btn" onclick="location.href='/upload'">Upload</button>
            </div>

            <div class="card">
                <h3>Start Chat</h3>
                <p>Ask questions and explore concepts from your uploaded material.</p>
                <button class="card-btn" onclick="location.href='/chat'">New Chat</button>
            </div>

            <div class="card">
                <h3>Browse Topics</h3>
                <p>View and manage your notes, documents, and learning topics.</p>
                <button class="card-btn secondary" onclick="location.href='/topics'">View Topics</button>
            </div>
        </div>

        <div class="activity-section">
            <h2>Recent Activity</h2>
            <div class="activity-item">
                <div class="activity-title">Welcome to Brain amp</div>
                <div class="activity-time">Upload your first document to begin</div>
            </div>
        </div>
    </div>

    <script src="/static/script.js?v=20260215-3"></script>
    <script>
        loadUser();
        document.addEventListener('DOMContentLoaded', loadDashboardStats);
    </script>

</body>
</html>
